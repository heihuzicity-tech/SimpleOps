# 新对话提示词模板

## 📋 使用方法
复制下面的提示词，根据当前任务调整具体内容，然后在新对话中使用。

---

## 🎯 完整提示词模板

```
我正在开发一个运维堡垒机系统(Bastion)，需要你帮助我继续开发。

## 项目概览
- **项目类型**: 企业级安全运维管理平台
- **当前进度**: 85%完成
- **当前阶段**: 系统优化和功能完善
- **技术栈**: Go后端 + React前端 + MySQL + Redis

## 已完成功能
后端系统(100%完成):
- ✅ 用户认证(JWT + RBAC)
- ✅ 用户管理(完整CRUD + 角色分配)
- ✅ 资产管理(完整CRUD + 多对多凭证关联)
- ✅ 凭证管理(完整CRUD + 多资产关联 + 连接测试)
- ✅ SSH代理(协议代理 + 会话管理 + WebSocket)
- ✅ 审计系统(登录/操作/会话/命令日志)
- ✅ API文档(Swagger)

前端界面(90%完成):
- ✅ 登录系统(JWT认证 + 权限路由)
- ✅ 资产管理界面(列表/创建/编辑/删除/搜索/分页)
- ✅ 凭证管理界面(列表/创建/编辑/删除/多资产关联/连接测试)
- ✅ 用户管理界面(完整CRUD + 角色管理)
- ✅ Redux状态管理 + API调用
- ✅ 统一错误处理机制

## 最近修复的问题
- ✅ 资产管理页面500错误(参数不匹配问题)
- ✅ 首页编译错误(TypeScript类型问题)
- ✅ 资产删除500错误(数据库关系迁移问题)
- ✅ 前后端参数统一(limit→page_size)

## 数据库结构(已优化)
- ✅ **多对多关系**: 资产-凭证多对多关联(asset_credentials中间表)
- ✅ **数据迁移**: 所有历史数据成功迁移到新结构
- ✅ **关联删除**: 删除资产时正确清理中间表记录

## 技术栈详情
**后端**: Go 1.21 + Gin + GORM + MySQL 8.0 + Redis
**前端**: React 18 + TypeScript + Ant Design + Redux Toolkit
**认证**: JWT + RBAC权限控制
**加密**: AES-GCM凭证加密
**数据库**: 多对多关系 + 软删除 + 事务支持

## 当前任务
**立即任务**: [根据具体需求调整]
**功能需求**: [具体的需求描述]
**重点**: [重要的技术要点]

## 项目结构
```
bastion/
├── backend/          # Go后端(完成)
│   ├── controllers/  # API控制器
│   ├── models/      # 数据模型(多对多关系)
│   ├── services/    # 业务逻辑
│   └── main.go      # 服务入口
├── frontend/        # React前端(90%完成)
│   ├── src/pages/   # 页面组件
│   ├── src/store/   # Redux状态管理
│   └── src/services/# API调用服务
├── docs/           # 项目文档
└── scripts/        # 数据库脚本
```

## 重要技术约定
- **API**: http://localhost:8080, Bearer Token认证
- **响应格式**: {success: boolean, data: any, message: string}
- **资产字段**: address(IP) + port + protocol
- **标签格式**: JSON字符串 {"tags": ["tag1", "tag2"]}
- **分页参数**: page + page_size (统一规范)

## 数据库关系
- **用户-角色**: 多对多 (user_roles表)
- **角色-权限**: 多对多 (role_permissions表)
- **资产-凭证**: 多对多 (asset_credentials表)

## 服务端口
- **后端**: http://localhost:8080
- **前端**: http://localhost:3000
- **数据库**: 10.0.0.7:3306
- **API文档**: http://localhost:8080/swagger/index.html

## 详细信息
项目的完整状态和技术细节请参考: docs/新对话同步指南.md

## 开发要求
1. 使用TypeScript严格类型检查
2. 遵循现有的代码风格和架构
3. 所有页面需要权限验证
4. 统一错误处理机制
5. 保持与现有功能的一致性
6. 注意多对多关系的正确处理
7. 确保数据库操作的事务性

请帮我开发[具体任务]，有什么问题请直接问我。
```

---

## 🔧 定制化说明

### 根据具体任务调整以下部分：

#### 1. 当前任务部分
```
## 当前任务
**立即任务**: [具体要开发的功能]
**功能需求**: [具体的需求描述]
**重点**: [重要的技术要点]
```

#### 2. 常见任务模板

##### 审计日志开发
```
## 当前任务
**立即任务**: 开发审计日志界面(/audit)
**功能需求**: 
- 登录日志列表(分页、搜索、过滤)
- 操作日志查询(用户、动作、时间范围)
- 会话记录展示(会话详情、录制回放)
- 命令日志审计(风险等级、执行时间)
**重点**: 日志过滤、时间范围查询、数据导出
```

##### WebSSH终端开发
```
## 当前任务
**立即任务**: 开发WebSSH终端(/terminal)
**功能需求**: 
- 浏览器SSH终端(xterm.js)
- WebSocket连接管理
- 会话录制回放
- 文件上传下载
**重点**: WebSocket集成、终端模拟、会话管理
```

##### 系统优化
```
## 当前任务
**立即任务**: 系统性能优化和BUG修复
**功能需求**: 
- 前端性能优化
- API响应速度提升
- 数据库查询优化
- 错误处理完善
**重点**: 代码质量、用户体验、系统稳定性
```

## 💡 使用建议

### 高效开始对话的步骤：
1. **复制基础模板** - 使用上面的完整提示词
2. **调整当前任务** - 根据要开发的具体功能调整任务描述
3. **添加具体要求** - 根据任务特点添加特定的技术要求
4. **提供上下文** - 如果需要，提供相关的代码片段或错误信息

### 技术重点提示：
- **数据库操作**: 注意多对多关系的正确处理
- **前端开发**: 保持与现有UI风格的一致性
- **API设计**: 遵循现有的响应格式规范
- **错误处理**: 提供详细的错误信息
- **权限控制**: 确保所有操作都有权限验证

---

*最后更新: 2025-01-13*  
*用途: 新对话快速同步和任务分配*  
*维护: 根据开发进度及时更新模板* 