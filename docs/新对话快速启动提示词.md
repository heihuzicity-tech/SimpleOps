# Bastion项目新对话启动提示词

我正在开发企业级运维堡垒机系统Bastion，需要你帮助我继续开发安全强化功能。

## 📊 项目快照
- **项目**: 企业级运维堡垒机 (91.8%完成，重构成功)
- **技术栈**: Go 1.21 + Gin + React 18 + TypeScript + Ant Design + MySQL 8.0 + Redis
- **当前阶段**: 安全和稳定性强化阶段
- **工作目录**: /Users/skip/workspace/bastion

## ✅ 核心功能状态
**后端架构(100%完成)**: 服务分层、接口抽象、依赖注入已重构完成
**会话管理(100%完成)**: Redis统一存储、WebSocket实时通信已实现
**审计系统(85%完成)**: 操作、命令、会话、登录审计核心功能就绪
**前端组件(80%完成)**: 组件复用率80%，重复代码减少75%
**代码质量**: 从原来320行重复代码优化到80行，整体质量73%

## 🔥 当前紧急任务 (按优先级)
1. **修复SSH安全漏洞** (高危P0)
   - 位置: `backend/services/ssh_service.go:156`
   - 问题: 使用`ssh.InsecureIgnoreHostKey()`跳过主机密钥验证
   - 影响: 生产环境安全风险

2. **完善登录日志界面** (中优P1)
   - 创建: `frontend/src/components/audit/LoginLogsTable.tsx`
   - 功能: 登录成功/失败区分、IP地址信息、异常登录标识

3. **添加WebSocket超时控制** (中危P2)
   - 位置: `backend/services/websocket_service.go`
   - 目标: 防止WebSocket连接内存泄漏

## 🛠️ 开发环境
```bash
# 启动服务
./manage.sh start

# 查看状态
./manage.sh status

# 查看日志
./manage.sh logs [service]

# 前端开发
cd frontend && npm run dev
```

## 📚 关键文档
- 详细任务: `docs/当前开发任务清单.md`
- 开发计划: `docs/后续开发计划.md`
- 项目评估: `docs/项目重构评估总结.md`
- API指南: `docs/API使用指南.md`

## 🎯 技术重点
- **安全优先**: 所有新功能都需考虑安全性
- **测试驱动**: 当前测试覆盖率15%，目标70%
- **架构完整**: 已完成服务分层重构，保持架构一致性
- **性能优化**: API响应时间目标≤200ms

## 💡 开发约定
- 使用中文注释和文档
- 遵循现有架构模式
- 每个功能完成后立即测试
- 重要修改前先讨论方案

请根据优先级帮我处理当前最紧急的安全漏洞修复任务。

---
*最后更新: 2025-07-15 | 下次更新: 安全漏洞修复完成后*