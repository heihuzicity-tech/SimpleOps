# 命令回放界面布局调整 - 需求文档

## 简介
命令回放功能是堡垒机系统的核心审计功能，用于回放用户的SSH会话操作记录。当前命令历史列表面板存在布局问题：显示所有命令导致整体窗口过长，影响用户体验。需要优化为固定高度的可滚动面板。

## 需求列表

### 需求 1：固定命令历史面板高度
**用户故事：** 作为审计人员，我希望命令历史面板保持固定高度，以便整个回放界面保持合理的窗口大小
#### 验收标准
1. WHEN 用户打开命令回放界面 THEN 系统 SHALL 将右侧命令历史面板设置为固定高度
2. WHEN 命令历史面板渲染 THEN 系统 SHALL 确保面板高度与左侧终端显示区域高度一致
3. IF 窗口调整大小 THEN 系统 SHALL 保持命令历史面板与终端区域的高度同步

### 需求 2：为命令历史添加滚动功能
**用户故事：** 作为审计人员，我希望能够通过滚动查看所有历史命令，而不是一次性展示所有内容
#### 验收标准
1. WHEN 命令数量超过可视区域 THEN 系统 SHALL 自动显示垂直滚动条
2. WHEN 用户滚动命令列表 THEN 系统 SHALL 平滑滚动并保持当前选中命令的高亮状态
3. IF 用户点击某个命令 THEN 系统 SHALL 自动滚动确保该命令在可视区域内

### 需求 3：保持界面整体布局稳定
**用户故事：** 作为审计人员，我希望回放界面保持稳定的布局，避免因命令数量变化导致界面跳动
#### 验收标准
1. WHEN 加载不同会话的回放 THEN 系统 SHALL 保持界面各组件的固定位置和大小
2. WHEN 命令列表更新 THEN 系统 SHALL 仅在列表内部滚动，不影响整体布局
3. IF 命令数量少于可视区域 THEN 系统 SHALL 隐藏滚动条但保持面板高度不变

### 需求 4：优化命令列表的视觉效果
**用户故事：** 作为审计人员，我希望命令列表有清晰的视觉边界和良好的可读性
#### 验收标准
1. WHEN 显示命令列表 THEN 系统 SHALL 为面板添加明确的边框或阴影效果
2. WHEN 鼠标悬停在命令上 THEN 系统 SHALL 显示悬停效果以提升交互体验
3. IF 命令正在回放中 THEN 系统 SHALL 高亮当前执行的命令并自动滚动到该位置

### 需求 5：保持响应式设计
**用户故事：** 作为审计人员，我希望在不同屏幕尺寸下都能正常使用命令回放功能
#### 验收标准
1. WHEN 屏幕宽度大于1200px THEN 系统 SHALL 显示完整的双栏布局（终端+命令列表）
2. WHEN 屏幕宽度小于1200px THEN 系统 SHALL 允许用户折叠/展开命令列表面板
3. IF 在移动设备上访问 THEN 系统 SHALL 默认隐藏命令列表，通过按钮切换显示